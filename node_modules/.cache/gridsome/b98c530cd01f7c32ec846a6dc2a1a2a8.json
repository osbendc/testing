{"remainingRequest":"/Users/osbendc/Desktop/Github/vinushut-vue/node_modules/babel-loader/lib/index.js??ref--1-1!/Users/osbendc/Desktop/Github/vinushut-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/osbendc/Desktop/Github/vinushut-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/osbendc/Desktop/Github/vinushut-vue/src/templates/Product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/osbendc/Desktop/Github/vinushut-vue/src/templates/Product.vue","mtime":1617802825925},{"path":"/Users/osbendc/Desktop/Github/vinushut-vue/node_modules/cache-loader/dist/cjs.js","mtime":1617803144827},{"path":"/Users/osbendc/Desktop/Github/vinushut-vue/node_modules/babel-loader/lib/index.js","mtime":1617803144756},{"path":"/Users/osbendc/Desktop/Github/vinushut-vue/node_modules/cache-loader/dist/cjs.js","mtime":1617803144827},{"path":"/Users/osbendc/Desktop/Github/vinushut-vue/node_modules/vue-loader/lib/index.js","mtime":1617803146183}],"contextDependencies":[],"result":["import \"core-js/modules/es.array.every\";\nimport \"core-js/modules/es.array.filter\";\nimport \"core-js/modules/es.array.find\";\nimport \"core-js/modules/es.array.reduce\";\nimport \"core-js/modules/es.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/osbendc/Desktop/Github/vinushut-vue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/osbendc/Desktop/Github/vinushut-vue/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/osbendc/Desktop/Github/vinushut-vue/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/osbendc/Desktop/Github/vinushut-vue/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  metaInfo: function metaInfo() {\n    return {\n      title: this.$page.shopifyProduct.title\n    };\n  },\n  data: function data() {\n    return {\n      selectedOptions: {},\n      quantity: 1\n    };\n  },\n  computed: {\n    product: function product() {\n      return this.$page.shopifyProduct;\n    },\n    productOptions: function productOptions() {\n      return this.product.options.filter(function (_ref) {\n        var name = _ref.name;\n        return name !== 'Title';\n      });\n    },\n    currentVariant: function currentVariant() {\n      var _this = this;\n\n      var matchedVariant = this.product.variants.find(function (variant) {\n        return variant.selectedOptions.every(function (_ref2) {\n          var name = _ref2.name,\n              value = _ref2.value;\n          return value === _this.selectedOptions[name];\n        });\n      });\n      return matchedVariant;\n    }\n  },\n  watch: {\n    $route: function $route(to, from) {\n      var _this$product$variant = _slicedToArray(this.product.variants, 1),\n          firstVariant = _this$product$variant[0];\n\n      this.selectedOptions = firstVariant.selectedOptions.reduce(function (options, _ref3) {\n        var name = _ref3.name,\n            value = _ref3.value;\n        return _objectSpread(_defineProperty({}, name, value), options);\n      }, {});\n    }\n  },\n  mounted: function mounted() {\n    var _this$product$variant2 = _slicedToArray(this.product.variants, 1),\n        firstVariant = _this$product$variant2[0];\n\n    this.selectedOptions = firstVariant.selectedOptions.reduce(function (options, _ref4) {\n      var name = _ref4.name,\n          value = _ref4.value;\n      return _objectSpread(_defineProperty({}, name, value), options);\n    }, {});\n  },\n  methods: {\n    addToCart: function addToCart() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var variant, payload;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                variant = _this2.currentVariant;\n                payload = {\n                  qty: _this2.quantity,\n                  productTitle: _this2.product.title,\n                  variantTitle: variant.title,\n                  variantId: variant.id,\n                  price: variant.price,\n                  image: variant.image\n                };\n                _context.next = 4;\n                return _this2.$store.commit('addToCart', payload);\n\n              case 4:\n                _this2.$notify({\n                  title: \"Added \".concat(payload.productTitle, \" to Cart\"),\n                  type: 'primary'\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};",{"version":3,"sources":["Product.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA,eAAA;AACA,EAAA,QADA,sBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KAAA,KAAA,CAAA,cAAA,CAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,eAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAAA,GANA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA,aAAA,KAAA,KAAA,CAAA,cAAA;AAAA,KADA;AAEA,IAAA,cAFA,4BAEA;AAAA,aAAA,KAAA,OAAA,CAAA,OAAA,CAAA,MAAA,CAAA;AAAA,YAAA,IAAA,QAAA,IAAA;AAAA,eAAA,IAAA,KAAA,OAAA;AAAA,OAAA,CAAA;AAAA,KAFA;AAGA,IAAA,cAHA,4BAGA;AAAA;;AACA,UAAA,cAAA,GAAA,KAAA,OAAA,CAAA,QAAA,CAAA,IAAA,CAAA,UAAA,OAAA;AAAA,eACA,OAAA,CAAA,eAAA,CAAA,KAAA,CAAA;AAAA,cAAA,IAAA,SAAA,IAAA;AAAA,cAAA,KAAA,SAAA,KAAA;AAAA,iBAAA,KAAA,KAAA,KAAA,CAAA,eAAA,CAAA,IAAA,CAAA;AAAA,SAAA,CADA;AAAA,OAAA,CAAA;AAGA,aAAA,cAAA;AACA;AARA,GAVA;AAoBA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,EADA,EACA,IADA,EACA;AAAA,iDACA,KAAA,OAAA,CAAA,QADA;AAAA,UACA,YADA;;AAEA,WAAA,eAAA,GAAA,YAAA,CAAA,eAAA,CAAA,MAAA,CAAA,UAAA,OAAA;AAAA,YAAA,IAAA,SAAA,IAAA;AAAA,YAAA,KAAA,SAAA,KAAA;AAAA,iDAAA,IAAA,EAAA,KAAA,GAAA,OAAA;AAAA,OAAA,EAAA,EAAA,CAAA;AACA;AAJA,GApBA;AA0BA,EAAA,OA1BA,qBA0BA;AAAA,gDACA,KAAA,OAAA,CAAA,QADA;AAAA,QACA,YADA;;AAEA,SAAA,eAAA,GAAA,YAAA,CAAA,eAAA,CAAA,MAAA,CAAA,UAAA,OAAA;AAAA,UAAA,IAAA,SAAA,IAAA;AAAA,UAAA,KAAA,SAAA,KAAA;AAAA,+CAAA,IAAA,EAAA,KAAA,GAAA,OAAA;AAAA,KAAA,EAAA,EAAA,CAAA;AACA,GA7BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OADA,GACA,MAAA,CAAA,cADA;AAEA,gBAAA,OAFA,GAEA;AACA,kBAAA,GAAA,EAAA,MAAA,CAAA,QADA;AAEA,kBAAA,YAAA,EAAA,MAAA,CAAA,OAAA,CAAA,KAFA;AAGA,kBAAA,YAAA,EAAA,OAAA,CAAA,KAHA;AAIA,kBAAA,SAAA,EAAA,OAAA,CAAA,EAJA;AAKA,kBAAA,KAAA,EAAA,OAAA,CAAA,KALA;AAMA,kBAAA,KAAA,EAAA,OAAA,CAAA;AANA,iBAFA;AAAA;AAAA,uBAUA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,OAAA,CAVA;;AAAA;AAWA,gBAAA,MAAA,CAAA,OAAA,CAAA;AACA,kBAAA,KAAA,kBAAA,OAAA,CAAA,YAAA,aADA;AAEA,kBAAA,IAAA,EAAA;AAFA,iBAAA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AAhBA;AA9BA,CAAA","sourcesContent":["<template>\n  <Layout>\n    <div class=\"container-inner mx-auto my-16\">\n      <h1 class=\"text-4xl font-bold leading-tight\">{{ product.title }}</h1>\n      <div class=\"text-xl text-gray-600 mb-4\"></div>\n      <div v-if=\"currentVariant\" class=\"flex mb-8 text-sm\">\n        <g-link\n          class=\"bg-gray-300 rounded-full px-4 py-2 mr-4 hover:bg-green-300\">\n          {{ currentVariant.price.amount }}\n        </g-link>\n      </div>\n      \n      <div class=\"mb-8\">\n        <g-image\n              :src=\"product.images[0].src\"\n              :alt=\"product.images[0].altText || product.title\" />\n      </div>\n\n      <div class=\"mb-8\" v-html=\"product.descriptionHtml\" />\n\n      <div\n        v-for=\"option in productOptions\"\n        :key=\"option.id\"\n        class=\"flex mx-auto\">\n        <div class=\"\">\n          <label\n            :for=\"option.name\"\n            class=\"\">\n            {{ option.name }}\n            <div class=\"\">\n              <select\n                :id=\"option.name\"\n                v-model=\"selectedOptions[option.name]\">\n                <option\n                  v-for=\"value in option.values\"\n                  :key=\"value\"\n                  :value=\"value\">\n                  {{ value }}\n                </option>\n              </select>\n            </div>\n          </label>\n        </div>\n      </div>\n      <br>\n\n      <notifications />\n\n      <div class=\"flex mx-auto\">\n        <div class=\"w-1/2\">\n          <input\n            id=\"quantity\"\n            v-model.number=\"quantity\"\n            class=\"bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-lg py-2 px-4 block w-full appearance-none leading-normal\"\n            type=\"number\">\n        </div>\n        <div class=\"w-1/2\">\n          <button @click=\"addToCart\"\n            @keyup.enter=\"addToCart\" \n            class=\"bg-black hover:bg-gray-700 text-white font-bold py-2 px-4 border border-blue-700 rounded\">\n            Add To Cart\n          </button>\n        </div>\n      </div>\n      <br>\n\n    </div>\n  </Layout>\n</template>\n\n<script>\nexport default {\n  metaInfo () {\n    return {\n      title: this.$page.shopifyProduct.title\n    }\n  },\n  data: () => ({\n    selectedOptions: {},\n    quantity: 1\n  }),\n  computed: {\n    product () { return this.$page.shopifyProduct },\n    productOptions () { return this.product.options.filter(({ name }) => name !== 'Title') },\n    currentVariant () {\n      const matchedVariant = this.product.variants.find(variant =>\n        variant.selectedOptions.every(({ name, value }) => value === this.selectedOptions[ name ])\n      )\n      return matchedVariant\n    }\n  },\n  watch: {\n    $route (to, from) {\n      const [firstVariant] = this.product.variants\n      this.selectedOptions = firstVariant.selectedOptions.reduce((options, { name, value }) => ({ [ name ]: value, ...options }), {})\n    }\n  },\n  mounted () {\n    const [firstVariant] = this.product.variants\n    this.selectedOptions = firstVariant.selectedOptions.reduce((options, { name, value }) => ({ [ name ]: value, ...options }), {})\n  },\n  methods: {\n    async addToCart () {\n      const variant = this.currentVariant\n      const payload = {\n        qty: this.quantity,\n        productTitle: this.product.title,\n        variantTitle: variant.title,\n        variantId: variant.id,\n        price: variant.price,\n        image: variant.image\n      }\n      await this.$store.commit('addToCart', payload)\n      this.$notify({\n        title: `Added ${payload.productTitle} to Cart`,\n        type: 'primary'\n      })\n    }\n  }\n}\n</script>\n\n<page-query>\nquery Product ($id: ID!) {\n  shopifyProduct (id: $id) {\n    id\n    descriptionHtml\n    title\n    tags\n    images(limit: 4) {\n      id\n      altText\n      src: transformedSrc(maxWidth: 600, maxHeight: 400, crop: CENTER)\n      thumbnail: transformedSrc(maxWidth: 150, maxHeight: 150, crop: CENTER)\n    }\n    options {\n      id\n      name\n      values\n    }\n    variants {\n      id\n      title\n      price {\n        amount(format: true)\n      }\n      selectedOptions {\n        name\n        value\n      }\n      image {\n        id\n        altText\n        thumbnail: transformedSrc(maxWidth: 150, maxHeight: 150, crop: CENTER)\n      }\n    }\n  }\n}\n</page-query>\n"],"sourceRoot":"src/templates"}]}